"use strict";class Sieve{constructor(e,t){this._opening=e,this._passing=t}get opening(){return this._opening}get passing(){return this._passing}}class Group{constructor(e,t,n){this._a=e,this._b=t,this._constant=n}get from(){return this._a.opening}get to(){return this._b.opening}get constant(){return this._constant}get retained(){return round(this._a.passing-this._b.passing,4)}get surface(){return round(this.retained*this.constant/100,4)}}class Total{constructor(e,t){this._groups=e,this._index=t}get groups(){return this._groups}get index(){return this._index}get surface(){let e,t;return e=0,t=0,this._groups.forEach(function(n){e=n.surface,t=round(t+e,4)}),t}get minimum(){return round(this.surface*this._index*100,4)}get optimum(){return round(this.minimum+1.75,4)}}const constants=[.27,.41,2.05,15.38,53.3],openings=[25,19,4.75,.425,.075,1/0];let ss;const round=(e,t)=>Number(Math.round(e+"e"+t)+"e-"+t),buildSieves=()=>{let e,t,n,s,r,i;for(t=[],n=0,s=0,r=(e=document.getElementById("source-data")).length,i=0;i<r;i++)i==r-1?(n=openings[i],s=0,t[i]=new Sieve(n,s)):(n=openings[i],s=round(e[i].value,4),t[i]=new Sieve(n,s));return t},buildSieveGroups=()=>{let e,t,n,s,r,i,u;for(t=[],n={},s={},r=0,i=(e=buildSieves()).length-1,u=0;u<i;u++)n=e[u],s=e[u+1],r=constants[u],t[u]=new Group(n,s,r);return t},buildTotal=()=>{let e,t,n,s,r;return e=buildSieveGroups(),r=(t=document.getElementById("source-data")).length-1,s=round(t[r].value,4),n=new Total(e,s)},calculate=()=>{ss=buildTotal()},show=()=>{let e,t,n,s,r,i,u,o;for(u=(t=(e=document.getElementById("partials")).children[1].children).length,n=0,s=0,o=0;o<u;o++)n=ss.groups[o].retained,s=ss.groups[o].surface,t[o].children[2].children[0].value=n.toFixed(1),t[o].children[4].children[0].value=s.toFixed(2);for(t=(e=document.getElementById("totals")).children[1].children,s=0,r=0,i=0,o=0;o<u;o++)s=ss.surface,r=ss.minimum,i=ss.optimum,t[o].children[0].children[0].value=s.toFixed(2),t[o].children[1].children[0].value=r.toFixed(2),t[o].children[2].children[0].value=i.toFixed(2)};let btnCalculate=document.getElementById("btn-calculate");btnCalculate.addEventListener("click",calculate,!1),btnCalculate.addEventListener("click",show,!1);